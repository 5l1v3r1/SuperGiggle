#!/usr/bin/env php
<?php
/**
 * SuperGiggler for coding standards validation against a given commit
 *
 * @author  Roger Sei <roger.sei@icloud.com>
 * @license //github.com/roger-sei/SuperGiggle/blob/master/LICENSE BSD Licence
 */

if (file_exists(__DIR__ . '/../vendor/autoload.php') === true) {
	require __DIR__ . '/../vendor/autoload.php';
} elseif (file_exists(__DIR__ . '/../../../autoload.php') === true) {
	require __DIR__ . '/../../../autoload.php';
} else {
	require  __DIR__ . '/../src/Main.php';
	require __DIR__ . '/../src/Util.php';
}

use SuperGiggle\Main;
use SuperGiggle\Util;

$util = new Util;
$opts = $util->parseArgs();
if (isset($opts['help'])) {
    $util->printUsage();
}

$phpcs = new Main();
$phpcs->setUtil($util);
$phpcs->run($opts);
